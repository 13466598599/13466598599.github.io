{"meta":{"title":"ä»»ä¿Šè¾¾çš„æŠ€æœ¯åšå®¢","subtitle":"","description":"","author":"ä»»ä¿Šè¾¾","url":"https://renjunda.ren","root":"/"},"pages":[{"title":"about","date":"2021-03-31T03:44:31.000Z","updated":"2022-04-02T08:56:45.870Z","comments":true,"path":"PY.html","permalink":"https://renjunda.ren/PY.html","excerpt":"","text":"æˆ‘ä»¬ä¼šæ…¢æ…¢é•¿å¤§æˆäººï¼Œéšç€å­£èŠ‚çš„ä¸åœå˜æ¢è·¯è¾¹ç››å¼€çš„é²œèŠ±ä¹Ÿåœ¨ä¸æ–­å˜åŒ–ï¼Œé‚£ä¸ªå­£èŠ‚ç››å¼€çš„é²œèŠ±åˆ°åº•å«ä»€ä¹ˆåå­—ï¼Œè½»è½»æ‘‡æ›³ç€ä¸€æ—¦è§¦æ‘¸å®ƒå°±ä¼šè½»è½»åœ°è¢«æ‰åˆ°ï¼Œç”¨é¼»å­é è¿‘é—»ä¸€é—»ï¼Œä¼šæœ‰ä¸€è‚¡æ·¡æ·¡çš„é’æ¶©å¤ªé˜³çš„èŠ³é¦™ï¼Œéšç€é‚£è‚¡é¦™å‘³æ…¢æ…¢å˜æ·¡æˆ‘ä»¬ä¹Ÿåœ¨é•¿å¤§æˆäººï¼Œä½†æ˜¯é‚£æœµèŠ±ä¸€å®šä¼šåœ¨æŸå¤„ç»§ç»­ç››å¼€ã€‚ æˆ‘çš„æœ‹å‹"},{"title":"BuyMeTea","date":"2002-04-01T01:23:02.000Z","updated":"2022-04-01T01:34:20.789Z","comments":true,"path":"money.html","permalink":"https://renjunda.ren/money.html","excerpt":"","text":"è¯·æˆ‘å–èŒ¶"},{"title":"about","date":"2021-03-31T03:44:31.000Z","updated":"2022-04-02T08:11:41.655Z","comments":true,"path":"about.html","permalink":"https://renjunda.ren/about.html","excerpt":"","text":"æˆ‘çš„ç”»åƒæˆ‘æ˜¯ä¸ç†æ€§çš„ã€æ‡’æƒ°çš„ã€ä»…å‡­çƒ­çˆ±é©±åŠ¨çš„ã€åæ‰§çš„ã€ä¿¡ä»°ç§‘å­¦çš„ã€å–œæ¬¢æ¢ç´¢çš„ã€çƒ­çˆ±ç”Ÿå‘½çš„ã€å‘å¾€é˜³å…‰çš„ã€‚ æˆ‘å¬çš„éŸ³ä¹ç»†è…°å©†å§¨ - ç”¨æˆ· - ç½‘æ˜“äº‘éŸ³ä¹(163.com) æˆ‘çš„å¾®ä¿¡"}],"posts":[{"title":"Mysqlå–æ¶ˆå¤–é”®çº¦æŸ","slug":"Mysqlå–æ¶ˆå¤–é”®çº¦æŸ","date":"2022-04-25T15:16:12.000Z","updated":"2022-04-28T08:16:31.343Z","comments":true,"path":"lxb/a03a2ff4.html","link":"","permalink":"https://renjunda.ren/lxb/a03a2ff4.html","excerpt":"","text":"SET FOREIGN_KEY_CHECKS&#x3D;0;åœ¨Mysqlä¸­å–æ¶ˆå¤–é”®çº¦æŸMysqlä¸­å¦‚æœè¡¨å’Œè¡¨ä¹‹é—´å»ºç«‹çš„å¤–é”®çº¦æŸï¼Œåˆ™æ— æ³•åˆ é™¤è¡¨åŠä¿®æ”¹è¡¨ç»“æ„ è§£å†³æ–¹æ³•æ˜¯åœ¨Mysqlä¸­å–æ¶ˆå¤–é”®çº¦æŸ: SET FOREIGN_KEY_CHECKS&#x3D;0; ç„¶åå°†åŸæ¥è¡¨çš„æ•°æ®å¯¼å‡ºåˆ°sqlè¯­å¥ï¼Œé‡æ–°åˆ›å»ºæ­¤è¡¨åï¼Œå†æŠŠæ•°æ®ä½¿ç”¨sqlå¯¼å…¥ ç„¶åå†è®¾ç½®å¤–é”®çº¦æŸ: SET FOREIGN_KEY_CHECKS&#x3D;1;","categories":[],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://renjunda.ren/tags/Mysql/"}]},{"title":"ä½¿ç”¨chmodä¿®æ”¹æƒé™","slug":"ä½¿ç”¨chmodä¿®æ”¹æƒé™","date":"2022-04-21T08:16:12.000Z","updated":"2022-04-25T03:03:39.548Z","comments":true,"path":"lxb/26c8ee4c.html","link":"","permalink":"https://renjunda.ren/lxb/26c8ee4c.html","excerpt":"","text":"chmodç®€ä»‹12Chmodå‘½ä»¤ä¸»è¦ç”¨äºä¿®æ”¹ã€è®¾ç½®æ–‡ä»¶æƒé™chmod ä¿®æ”¹æ–‡ä»¶æƒé™ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š å­—æ¯æ³•ä¸æ•°å­—æ³• chmodèƒ½æ”¹å˜æƒé™ï¼Œ-Ræ˜¯ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œ777å°±æ˜¯é«˜æƒé™ï¼ˆè¯»ã€å†™ã€æ‰§è¡Œï¼‰chmod -R 777 * æ„æ€å°±æ˜¯å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶éƒ½ç»™äºˆ777æƒé™ 1234567-rw------- ï¼ˆ600) â€“ åªæœ‰å±ä¸»æœ‰è¯»å†™æƒé™ã€‚-rw-râ€“r-- (644) â€“ åªæœ‰å±ä¸»æœ‰è¯»å†™æƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»æƒé™ã€‚-rwx------ (700) â€“ åªæœ‰å±ä¸»æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚-rwxr-xr-x (755) â€“ å±ä¸»æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»ã€æ‰§è¡Œæƒé™ã€‚-rwxâ€“xâ€“x (711) â€“ å±ä¸»æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼›è€Œå±ç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·åªæœ‰æ‰§è¡Œæƒé™ã€‚-rw-rw-rw- (666) â€“ æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰æ–‡ä»¶è¯»ã€å†™æƒé™ã€‚è¿™ç§åšæ³•ä¸å¯å–ã€‚-rwxrwxrwx (777) â€“ æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚æ›´ä¸å¯å–çš„åšæ³•ã€‚ u è¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼Œg è¡¨ç¤ºä¸è¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…å±äºåŒä¸€ä¸ªç¾¤ä½“(group)è€…ï¼Œo è¡¨ç¤ºå…¶ä»–ä»¥å¤–çš„äººï¼Œa è¡¨ç¤ºè¿™ä¸‰è€…çš†æ˜¯ã€‚uç”¨æˆ· gç»„ oå…¶å®ƒ a æ‰€æœ‰ç”¨æˆ·(é»˜è®¤) è¡¨ç¤ºå¢åŠ æƒé™ã€- è¡¨ç¤ºå–æ¶ˆæƒé™ã€&#x3D; è¡¨ç¤ºå”¯ä¸€è®¾å®šæƒé™ã€‚r è¡¨ç¤ºå¯è¯»å–ï¼Œw è¡¨ç¤ºå¯å†™å…¥ï¼Œx è¡¨ç¤ºå¯æ‰§è¡Œï¼ŒX è¡¨ç¤ºåªæœ‰å½“è¯¥æ–‡ä»¶æ˜¯ä¸ªå­ç›®å½•æˆ–è€…è¯¥æ–‡ä»¶å·²ç»è¢«è®¾å®šè¿‡ä¸ºå¯æ‰§è¡Œã€‚ è¿™ä¸ªåœ¨æœåŠ¡å™¨é‡Œä¸èƒ½éšä¾¿æ•²çš„ï¼Œä¸èƒ½åœ¨æ ¹ç›®å½•ä¸‹è¿›è¡Œæ­¤å‘½ä»¤ï¼Œå› ä¸ºæœ‰äº›è¿›ç¨‹æ˜¯æŒ‡å®šæƒé™ï¼ˆå¦‚755ã€700â€¦ï¼‰æ‰èƒ½è¿è¡Œçš„â€¦æ‰€ä»¥ä¼šå‡ºé”™.æ‰€ä»¥åªéœ€è¦æŒ‡å®šè‡ªå·±æ‰€éœ€çš„ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œèµ‹äºˆæƒé™å³å¯","categories":[],"tags":[]},{"title":"è¯¦è§£Pythonä¸­çš„evalå‡½æ•°","slug":"è¯¦è§£Pythonä¸­çš„evalå‡½æ•°","date":"2022-04-07T08:16:12.000Z","updated":"2022-04-08T03:39:53.752Z","comments":true,"path":"lxb/29f18618.html","link":"","permalink":"https://renjunda.ren/lxb/29f18618.html","excerpt":"","text":"åœ¨ Python å­¦ä¹ ä¸­å¦‚æœèƒ½å¤Ÿåˆ©ç”¨å¥½ Python è‡ªå¸¦çš„å‡½æ•°ï¼Œé‚£ä¹ˆå¼€å‘çš„é€Ÿåº¦å°†ä¼šå‡ºç°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚ ä¸€ç›´ä»¥æ¥å…³äº eval å‡½æ•°çš„ç”¨æ³•ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæ¯•ç«Ÿè¿™ä¸ªå‡½æ•°åœ¨å¼€å‘ä¸­å‡ºç°çš„é¢‘ç‡ä¸ç®—é«˜ã€‚ä½†æ˜¯è¯¦ç»†äº†è§£ eval å‡½æ•°çš„ç”¨æ³•ï¼Œä¹Ÿæ˜¯å¾ˆé‡è¦çš„ å®æˆ˜æ•™ç¨‹ ç»¼ä¸Šæ‰€è¿°:evalå‡½æ•°çš„ç”¨æ³•å°±æ˜¯æŠŠå­—ç¬¦ä¸²å¯¹è±¡è½¬æ¢ä¸ºèƒ½å¤Ÿå…·ä½“çš„å¯¹è±¡.","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://renjunda.ren/tags/python/"}]},{"title":"Djanoå®ç°ä¸‹è½½æ–‡ä»¶åŠŸèƒ½ (ä½ æ²¡äº‹å§?ğŸ˜)","slug":"Djanoå®ç°ä¸‹è½½æ–‡ä»¶åŠŸèƒ½/Djanoå®ç°ä¸‹è½½æ–‡ä»¶åŠŸèƒ½","date":"2022-04-01T09:00:21.000Z","updated":"2022-04-02T01:12:18.838Z","comments":true,"path":"lxb/6c2328a8.html","link":"","permalink":"https://renjunda.ren/lxb/6c2328a8.html","excerpt":"","text":"ä¸€ã€ç®€å•ä»‹ç»æ–‡ä»¶ä¸‹è½½æœ€ç®€å•çš„æ–‡ä»¶ä¸‹è½½åŠŸèƒ½çš„å®ç° 1ã€å°†æ–‡ä»¶æµæ”¾å…¥HttpResponseå¯¹è±¡å³å¯ï¼Œå¦‚ 12345def file_download(request): # do something... with open(&#x27;file_name.txt&#x27;) as f: c = f.read() return HttpResponse(c) è¿™ç§æ–¹å¼ç®€å•ç²—æš´ï¼Œé€‚åˆå°æ–‡ä»¶çš„ä¸‹è½½ï¼Œä½†å¦‚æœè¿™ä¸ªæ–‡ä»¶éå¸¸å¤§ï¼Œè¿™ç§æ–¹å¼ä¼šå ç”¨å¤§é‡çš„å†…å­˜ï¼Œç”šè‡³å¯¼è‡´æœåŠ¡å™¨å´©æºƒ æ›´åˆç†çš„æ–‡ä»¶ä¸‹è½½åŠŸèƒ½Djangoçš„HttpResponseå¯¹è±¡å…è®¸å°†è¿­ä»£å™¨ä½œä¸ºä¼ å…¥å‚æ•°ï¼Œå°†ä¸Šé¢ä»£ç ä¸­çš„ä¼ å…¥å‚æ•°cæ¢æˆä¸€ä¸ªè¿­ä»£å™¨ï¼Œä¾¿å¯ä»¥å°†ä¸Šè¿°ä¸‹è½½åŠŸèƒ½ä¼˜åŒ–ä¸ºå¯¹å¤§å°æ–‡ä»¶å‡é€‚åˆï¼›è€ŒDjangoæ›´è¿›ä¸€æ­¥ï¼Œæ¨èä½¿StreamingHttpResponseå¯¹è±¡å–ä»£HttpResponseå¯¹è±¡ï¼ŒStreamingHttpResponseå¯¹è±¡ç”¨äºå°†æ–‡ä»¶æµå‘é€ç»™æµè§ˆå™¨ï¼Œä¸HttpResponseå¯¹è±¡éå¸¸ç›¸ä¼¼ï¼Œå¯¹äºæ–‡ä»¶ä¸‹è½½åŠŸèƒ½ï¼Œä½¿ç”¨StreamingHttpResponseå¯¹è±¡æ›´åˆç†ã€‚ å› æ­¤ï¼Œæ›´åŠ åˆç†çš„æ–‡ä»¶ä¸‹è½½åŠŸèƒ½ï¼Œåº”è¯¥å…ˆå†™ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”¨äºå¤„ç†æ–‡ä»¶ï¼Œç„¶åå°†è¿™ä¸ªè¿­ä»£å™¨ä½œä¸ºå‚æ•°ä¼ é€’ç»™StreaminghttpResponseå¯¹è±¡ HttpResponseä¼šç›´æ¥ä½¿ç”¨è¿­ä»£å™¨å¯¹è±¡ï¼Œå°†è¿­ä»£å™¨å¯¹è±¡çš„å†…å®¹å­˜å‚¨åŸå­—ç¬¦ä¸²ï¼Œç„¶åè¿”å›ç»™å®¢æˆ·ç«¯ï¼ŒåŒæ—¶é‡Šæ”¾å†…å­˜ã€‚å¯ä»¥å½“æ–‡ä»¶å˜å¤§çœ‹å‡ºè¿™æ˜¯ä¸€ä¸ªéå¸¸è€—è´¹æ—¶é—´å’Œå†…å­˜çš„è¿‡ç¨‹ã€‚StreamingHttpResponseè¿™æ˜¯ä¸€ç§éå¸¸çœæ—¶çœå†…å­˜çš„æ–¹æ³•ã€‚ä½†æ˜¯å› ä¸ºStreamingHttpResponseçš„æ–‡ä»¶ä¼ è¾“è¿‡ç¨‹æŒç»­åœ¨æ•´ä¸ªresponseçš„è¿‡ç¨‹ä¸­ï¼Œæ‰€ä»¥è¿™æœ‰å¯èƒ½ä¼šé™ä½æœåŠ¡å™¨çš„æ€§èƒ½ã€‚ ä»£ç å— 123456789101112131415from django.http import StreamingHttpResponse def file_download(request): def file_iterator(file_name, chunk_size=512): with open(file_name) as f: while True: c = f.read(chunk_size) if c: yield c else: break the_file_name = &quot;file_name.txt&quot; response = StreamingHttpResponse(file_iterator(the_file_name)) return response ç»“åˆé¡¹ç›®ä½¿ç”¨å®Œæ•´ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚æ•´æ”¹1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192# å¯¼å…¥ç›¸å…³ä¾èµ–æ–‡ä»¶import xlsxwriterfrom django.http import StreamingHttpResponse, JsonResponse, FileResponsefrom django.http import HttpResponsefrom django.urls import reverse_lazyfrom django.utils.encoding import escape_uri_pathdef export_data(request): filename = &#x27;&#123;&#125;.xlsx&#x27;.format(&#x27;äººå‘˜ä¿¡æ¯&#x27;) if request.method == &#x27;GET&#x27;: try: response = StreamingHttpResponse(file_iterator(filename)) # ä»¥æµçš„å½¢å¼ä¸‹è½½æ–‡ä»¶,è¿™æ ·å¯ä»¥å®ç°ä»»æ„æ ¼å¼çš„æ–‡ä»¶ä¸‹è½½ response[&#x27;Content-Type&#x27;] = &#x27;application/octet-stream&#x27; response[&quot;Content-Disposition&quot;] = &quot;attachment; filename*=UTF-8&#x27;&#x27;&#123;&#125;&quot;.format(escape_uri_path(filename)) except: return HttpResponse(&quot;ç”Ÿæˆæ–‡ä»¶å¤±è´¥&quot;) return response if request.method == &#x27;POST&#x27;: # è¡¨å¤´,ä¸ºäº†æ–¹ä¾¿ç›´æ¥å†ä»£ç ä¸­, å¹³æ—¶æˆ‘ä»¬ä¸ºäº†è§„èŒƒä»£ç ä¸€èˆ¬å†™åœ¨é…ç½®æ–‡ä»¶ä¸­ ping_header = &#123; &#x27;å§“å&#x27;: &#x27;1&#x27;, &#x27;æ€§åˆ«&#x27;: &#x27;2&#x27;, &#x27;å¹´é¾„&#x27;: &#x27;3&#x27;, &#x27;å±…ä½åœ°å€&#x27;: &#x27;4&#x27;, &#125; # å…ˆæŠŠæ•°æ®å†™æ­»ï¼Œæ ¹æ®éœ€æ±‚è‡ªå·±å»æ•°æ®åº“æŸ¥è¯¢ data = [ &#123;&#x27;name&#x27;: &#x27;åˆ˜å¤‡&#x27;, &#x27;sex&#x27;: &#x27;ç”·&#x27;, &#x27;age&#x27;: 18, &#x27;addr&#x27;: &#x27;è†å·&#x27;&#125;, &#123;&#x27;name&#x27;: &#x27;å…³ç¾½&#x27;, &#x27;sex&#x27;: &#x27;å¥³&#x27;, &#x27;age&#x27;: 10, &#x27;addr&#x27;: &#x27;è†å·&#x27;&#125;, &#123;&#x27;name&#x27;: &#x27;å¼ é£&#x27;, &#x27;sex&#x27;: &#x27;ç”·&#x27;, &#x27;age&#x27;: 10, &#x27;addr&#x27;: &#x27;è†å·&#x27;&#125;, &#123;&#x27;name&#x27;: &#x27;é»„å®‡æ’&#x27;, &#x27;sex&#x27;: &#x27;å…¶ä»–&#x27;, &#x27;age&#x27;: 99, &#x27;addr&#x27;: &#x27;æ±Ÿè¥¿çœå—æ˜Œå¸‚è¿›è´¤å¿&#x27;&#125;, ] workbook = xlsxwriter.Workbook(filename) # å»ºç«‹æ–‡ä»¶ worksheet = workbook.add_worksheet(&quot;äººå‘˜ä¿¡æ¯ç»Ÿè®¡&quot;) head_style = workbook.add_format(xlsx_style(bold=True, bg_color=&#x27;#95B3D7&#x27;)) body_style = workbook.add_format(xlsx_style()) _header = ping_header for index, value in enumerate(_header): worksheet.write(0, index + 4, value, head_style) n_index = 1 if len(data) &gt; 0: for item in data: worksheet.write(n_index, 4, item[&#x27;name&#x27;] if item.get(&#x27;name&#x27;) else &#x27;&#x27;, body_style) worksheet.write(n_index, 5, item[&#x27;sex&#x27;] if item.get(&#x27;sex&#x27;) else &#x27;&#x27;, body_style) worksheet.write(n_index, 6, item[&#x27;age&#x27;] if item.get(&#x27;age&#x27;) else &#x27;&#x27;, body_style) worksheet.write(n_index, 7, item[&#x27;addr&#x27;] if item.get(&#x27;addr&#x27;) else &#x27;&#x27;, body_style) n_index += 1 # å°†ç”Ÿæˆçš„excelæ”¾å…¥byteæµç»™response workbook.close() url = reverse_lazy(&#x27;app_name:è·¯ç”±åç§°&#x27;) # å°†ä¸‹è½½è·¯ç”±è¿”å›å‰ç«¯,å‰ç«¯é€šè¿‡è¯·æ±‚è¿”å›çš„è·¯ç”±å®ç°æ–‡ä»¶ä¸‹è½½ return JsonResponse(&#123;&#x27;redirect&#x27;: url, &#x27;code&#x27;: 0&#125;)def file_iterator(file_path, chunk_size=512): &quot;&quot;&quot; æ–‡ä»¶ç”Ÿæˆå™¨,é˜²æ­¢æ–‡ä»¶è¿‡å¤§ï¼Œå¯¼è‡´å†…å­˜æº¢å‡º :param file_path: æ–‡ä»¶è·¯å¾„ :param chunk_size: å—å¤§å° :return: ç”Ÿæˆå™¨ &quot;&quot;&quot; with open(file_path, mode=&#x27;rb&#x27;) as f: while True: c = f.read(chunk_size) if c: yield c else: break# xlsxwriterçš„æ ·å¼å…¬æœ‰å‡½æ•°def xlsx_style(**kwargs): style = &#123; &#x27;bold&#x27;: kwargs.get(&#x27;bold&#x27;, False), # åŠ ç²— &#x27;font_name&#x27;: kwargs.get(&#x27;font_name&#x27;, &#x27;SimSun&#x27;), # å­—ä½“ç±»å‹ï¼Œé»˜è®¤å®‹ä½“ &#x27;font_size&#x27;: kwargs.get(&#x27;font_size&#x27;, 10), # å­—ä½“å¤§å°ï¼Œé»˜è®¤12 &#x27;font_color&#x27;: kwargs.get(&#x27;font_color&#x27;, &#x27;#000000&#x27;), # å­—ä½“é¢œè‰²ï¼Œé»‘è‰² &#x27;align&#x27;: kwargs.get(&#x27;align&#x27;, &#x27;center&#x27;), # é»˜è®¤æ°´å¹³å±…ä¸­ &#x27;valign&#x27;: kwargs.get(&#x27;valign&#x27;, &#x27;vcenter&#x27;), # é»˜è®¤å‚ç›´å±…ä¸­ &#x27;text_wrap&#x27;: kwargs.get(&#x27;text_wrap&#x27;, True), # é»˜è®¤è‡ªåŠ¨æ¢è¡Œ &#x27;top&#x27;: kwargs.get(&#x27;top&#x27;, 1), # ä¸Šè¾¹ç•Œï¼Œçº¿æ¡å®½åº¦ &#x27;bottom&#x27;: kwargs.get(&#x27;bottom&#x27;, 1), # è¾¹ç•Œ &#x27;left&#x27;: kwargs.get(&#x27;left&#x27;, 1), # è¾¹ç•Œ &#x27;right&#x27;: kwargs.get(&#x27;right&#x27;, 1), # è¾¹ç•Œ &#x27;bg_color&#x27;: kwargs.get(&#x27;bg_color&#x27;, &#x27;#FFFFFF&#x27;), # èƒŒæ™¯é¢œè‰²ï¼Œç™½è‰² # å…¶ä»–ç±»å‹è®¾ç½®æ ¼å¼å¯ä»¥æ¥ç€å†™ &#125; return style æ–‡ä»¶ä¸‹è½½å®Œæˆåæ ·å¼å±•ç¤º","categories":[],"tags":[{"name":"Django","slug":"Django","permalink":"https://renjunda.ren/tags/Django/"}]},{"title":"jså¦‚ä½•è·å–urlä¸­çš„å‚æ•°","slug":"jså¦‚ä½•è·å–urlä¸­çš„å‚æ•°/jså¦‚ä½•è·å–urlä¸­çš„å‚æ•°","date":"2022-04-01T08:24:09.000Z","updated":"2022-04-02T01:10:09.079Z","comments":true,"path":"lxb/5477648b.html","link":"","permalink":"https://renjunda.ren/lxb/5477648b.html","excerpt":"","text":"jså¦‚ä½•é€šè¿‡ä»£ç è·å–urlä¸­çš„å‚æ•°, ä»¥ä¸‹å‡½æ•°æ˜¯è·å–urlä¸­å‚æ•°çš„å…¬æœ‰æ–¹æ³•, ç›´æ¥ä½¿ç”¨å³å¯123456789101112131415161718function getRequest() &#123; var url = window.location.search; //è·å–urlä¸­&quot;?&quot;ç¬¦åçš„å­—ä¸² var theRequest = new Object(); if (url.indexOf(&quot;?&quot;) != -1) &#123; var str = url.substr(1); strs = str.split(&quot;&amp;&quot;); for(var i = 0; i &lt; strs.length; i ++) &#123; //å°±æ˜¯è¿™å¥çš„é—®é¢˜ theRequest[strs[i].split(&quot;=&quot;)[0]]=decodeURI(strs[i].split(&quot;=&quot;)[1]); //ä¹‹å‰ç”¨äº†unescape() //æ‰ä¼šå‡ºç°ä¹±ç  &#125; &#125; return theRequest; &#125; var arr = getRequest(); var name = arr[&#x27;name&#x27;]; // urlä¸­çš„å‚æ•°åç§° var time = arr[&#x27;time&#x27;];","categories":[],"tags":[{"name":"js","slug":"js","permalink":"https://renjunda.ren/tags/js/"}]},{"title":"WebSocketè¿æ¥å¤±è´¥ï¼ŒæŠ¥é”™400","slug":"WebSocketè¿æ¥å¤±è´¥ï¼ŒæŠ¥é”™400/WebSocketè¿æ¥å¤±è´¥ï¼ŒæŠ¥é”™400","date":"2022-04-01T08:09:17.000Z","updated":"2022-04-01T08:21:19.994Z","comments":true,"path":"lxb/14b1fd40.html","link":"","permalink":"https://renjunda.ren/lxb/14b1fd40.html","excerpt":"","text":"WebSocket è¿æ¥å¤±è´¥ï¼ŒæŠ¥é”™400 WebSocketæ¡æ‰‹æœŸé—´å‡ºé”™ï¼Œå“åº”ç ï¼š400ã€‚å‡ºç°åŸå› ï¼šå¯èƒ½ä½ çš„åº”ç”¨ç¨‹åºç‰ˆæœ¬ä½äºnginx æˆ‘çš„è§£å†³æ–¹å¼ï¼šå‘Šè¯‰nginxåœ¨å’ŒæœåŠ¡ç«¯é€šä¿¡çš„æ—¶å€™ï¼Œä½¿ç”¨http&#x2F;1.1ï¼Œå¹¶ä¸”Nginxå½“æƒ³è¦ä½¿ç”¨WebSocketæ—¶ç”±æµè§ˆå™¨é€šè¿‡HTTPå‘èµ·çš„Upgradeè¯·æ±‚åšå‡ºå“åº”ã€‚å³ï¼šåœ¨nginxçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹å¯¹åº”çš„websocketä»£ç†æœåŠ¡ã€‚å¦‚å›¾ï¼š ä¿®æ”¹å®Œé…ç½®è¿˜éœ€è¦å†Djangoé¡¹ç›®ä¸­çš„settingsä¸­é…ç½®websocket 1WEBSOCKET_FACTORY_CLASS = &#x27;dwebsocket.backends.uwsgi.factory.uWsgiWebSocketFactory&#x27; æœ€åé‡å¯nginx&amp;é¡¹ç›®","categories":[],"tags":[{"name":"nginx","slug":"nginx","permalink":"https://renjunda.ren/tags/nginx/"}]},{"title":"layuiå¼¹å‡ºå±‚æ—¶é—´æ§ä»¶é—ªé€€è§£å†³æ–¹æ¡ˆ","slug":"layuiå¼¹å‡ºå±‚æ—¶é—´æ§ä»¶é—ªé€€è§£å†³æ–¹æ¡ˆ","date":"2021-04-01T07:53:58.000Z","updated":"2022-04-01T08:06:18.108Z","comments":true,"path":"lxb/d2cfb4a5.html","link":"","permalink":"https://renjunda.ren/lxb/d2cfb4a5.html","excerpt":"","text":"ä½¿ç”¨layuiæ—¶é—´ç»„ä»¶æœ‰é—ªé€€é—®é¢˜,åªéœ€è¦åœ¨å®ä¾‹åŒ–æ—¶æ·»åŠ ç‚¹å‡»äº‹ä»¶é—®é¢˜å°±å¯ä»¥è§£å†³äº†,å…·ä½“é…ç½®å¦‚ä¸‹123456laydate.render(&#123; elem: &#x27;&#x27;, range: &#x27;åˆ°&#x27;, type: &#x27;datetime&#x27;, trigger: &#x27;click&#x27;, # æ–°å¢ç‚¹å‡»äº‹ä»¶ &#125;);","categories":[],"tags":[{"name":"layui","slug":"layui","permalink":"https://renjunda.ren/tags/layui/"}]},{"title":"Djangoæ¨¡ç³ŠæŸ¥è¯¢å’ŒæŸ¥è¯¢æ“ä½œ","slug":"Djangoæ¨¡ç³ŠæŸ¥è¯¢å’ŒæŸ¥è¯¢æ“ä½œ","date":"2021-03-23T05:59:08.000Z","updated":"2022-03-30T10:00:02.501Z","comments":true,"path":"lxb/undefined.html","link":"","permalink":"https://renjunda.ren/lxb/undefined.html","excerpt":"","text":"Django ORM æ¨¡ç³ŠæŸ¥è¯¢å’ŒæŸ¥è¯¢æ“ä½œquerysetä¸­æ”¯æŒé“¾å¼æ“ä½œ12book=Book.objects.all().order_by(&#x27;-nid&#x27;).first()åªè¦è¿”å›çš„æ˜¯querysetå¯¹è±¡å°±å¯ä»¥è°ƒç”¨å…¶ä»–çš„æ–¹æ³•,ç›´åˆ°è¿”å›çš„æ˜¯å¯¹è±¡æœ¬èº« æ¨¡ç³ŠæŸ¥è¯¢å¸¸ç”¨çš„æ“ä½œ1234567891011121314151617181920212223242526272829303132333435363738394041424344å¤§äºã€å¤§äºç­‰äº:__gt å¤§äº&gt;__gte å¤§äºç­‰äº&gt;=Student.objects.filter(age__gt=10) // æŸ¥è¯¢å¹´é¾„å¤§äº10å²çš„å­¦ç”ŸStudent.objects.filter(age__gte=10) // æŸ¥è¯¢å¹´é¾„å¤§äºç­‰äº10å²çš„å­¦ç”Ÿlike:__exact ç²¾ç¡®ç­‰äº like &#x27;aaa&#x27;__iexact ç²¾ç¡®ç­‰äº å¿½ç•¥å¤§å°å†™ ilike &#x27;aaa&#x27;__contains åŒ…å« like &#x27;%aaa%&#x27;__icontains åŒ…å«,å¿½ç•¥å¤§å°å†™ ilike &#x27;%aaa%&#x27;ï¼Œä½†æ˜¯å¯¹äºsqliteæ¥è¯´ï¼Œcontainsçš„ä½œç”¨æ•ˆæœç­‰åŒäºicontainsin:__inæŸ¥è¯¢å¹´é¾„åœ¨æŸä¸€èŒƒå›´çš„å­¦ç”ŸStudent.objects.filter(age__in=[10, 20, 30])is null / is not nullStudent.objects.filter(name__isnull=True) // æŸ¥è¯¢ç”¨æˆ·åä¸ºç©ºçš„å­¦ç”ŸStudent.objects.filter(name__isnull=False) // æŸ¥è¯¢ç”¨æˆ·åä¸ä¸ºç©ºçš„å­¦ç”Ÿä¸ç­‰äº/ä¸åŒ…å«äºï¼šStudent.objects.filter().excute(age=10) // æŸ¥è¯¢å¹´é¾„ä¸ä¸º10çš„å­¦ç”ŸStudent.objects.filter().excute(age__in=[10, 20]) // æŸ¥è¯¢å¹´é¾„ä¸åœ¨ [10, 20] çš„å­¦ç”Ÿå…¶ä»–å¸¸ç”¨æ¨¡ç³ŠæŸ¥è¯¢ï¼š__startswith ä»¥â€¦å¼€å¤´__istartswith ä»¥â€¦å¼€å¤´ å¿½ç•¥å¤§å°å†™__endswith ä»¥â€¦ç»“å°¾__iendswith ä»¥â€¦ç»“å°¾ï¼Œå¿½ç•¥å¤§å°å†™__range åœ¨â€¦èŒƒå›´å†…__year æ—¥æœŸå­—æ®µçš„å¹´ä»½__month æ—¥æœŸå­—æ®µçš„æœˆä»½__day æ—¥æœŸå­—æ®µçš„æ—¥Book.objects.filter(create_time__year=2019, create_time__month=4).all()","categories":[],"tags":[]},{"title":"æ€æ ·å®ç°å›¾ç‰‡éªŒè¯ç ","slug":"æ€æ ·å®ç°å›¾ç‰‡éªŒè¯ç ","date":"2020-05-31T06:22:05.000Z","updated":"2022-04-02T07:35:15.805Z","comments":true,"path":"lxb/49696.html","link":"","permalink":"https://renjunda.ren/lxb/49696.html","excerpt":"","text":"åˆ©ç”¨django + vueå®ç°å›¾ç‰‡éªŒè¯ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192import uuidimport randomfrom captcha.image import ImageCaptchafrom io import BytesIOimport redis# åˆ›å»ºrediså®ä¾‹r = redis.Redis(host=&#x27;127.0.0.1&#x27;, port=6379, password=&#x27;&#x27;,decode_responses=True)# å°è£…ä¸€ä¸ªå‡½æ•°,æ­¤å‡½æ•°ç”¨äºç”Ÿæˆå›¾ç‰‡éªŒè¯ç ä¸­çš„æ•°å­—æˆ–å­—æ¯def random_code(num=4): # num æ˜¯ç”Ÿæˆéšæœºçš„æ•°é‡ é»˜è®¤ä¸º4 str__a_z = [chr(num) for num in range(97, 123)] str__A_Z = [chr(num) for num in range(65, 91)] num_0_9 = [str(num) for num in range(0, 10)] return &#x27;&#x27;.join(random.sample(str__a_z + str__A_Z + num_0_9, num))# æ­¤å‡½æ•°ç”¨äºç”Ÿæˆå›¾ç‰‡def make_verify_image(code_str, uuid=None): # ä¿å­˜éªŒè¯ç åˆ°redisä¸­,å¹¶ä¸”è®¾ç½®è¿‡æœŸæ—¶é—´ r.set(uuid, code_str, 60) # ç”ŸæˆéªŒè¯ç å›¾ç‰‡ img = ImageCaptcha().generate_image(code_str) # å›¾ç‰‡ä¸ä¼šæ°¸ä¹…å­˜å‚¨ï¼Œåªéœ€è¦åœ¨å†…å­˜ä¸­å­˜å‚¨å³å¯ # æŠŠImageå¯¹è±¡å†™å…¥åˆ°IOæµä¸­ out = BytesIO() # æ–‡ä»¶æµå¯¹è±¡æ‰“å¼€åœ¨å†…å­˜ä¸­ img.save(out, &#x27;jpeg&#x27;) return out.getvalue()# vueä»£ç  generate_image_code() &#123; axios(&#123; url:this.base_url + &#x27;userapp/uuid/&#x27;, &#125;).then(res=&gt;&#123; console.log(res.data) this.uuid = res.data this.image_code_url = this.base_url +&quot;userapp/&quot; + &#x27;tupian/&#x27; + this.uuid +&#x27;/&#x27; &#125;) &#125;, UUId() &#123; axios(&#123; url:this.base_url + &#x27;userapp/uuid/&#x27;, &#125;).then(res=&gt;&#123; console.log(res.data) this.uuid = res.data this.image_code_url = this.base_url +&quot;userapp/&quot; + &#x27;tupian/&#x27; + this.uuid +&#x27;/&#x27; &#125;) &#125;, jc() &#123; axios(&#123; url:this.base_url + &#x27;userapp/xy/&#x27;, method:&#x27;post&#x27;, data:&#123;&#x27;uuid&#x27;:this.uuid,&#x27;code&#x27;:this.check&#125; &#125;).then(res=&gt;&#123; console.log(res.data) if(res.data.code == 200) &#123; this.check_img = true this.error_image_code = res.data.msg &#125; if(res.data.code==500) &#123; this.check_img = false this.error_image_code = res.data.msg &#125; &#125;) &#125;,class GenerateUUID(APIView): def get(self, request): # æ³¨å†Œé¡µé¢ æŒ‚è½½æ—¶è¯·æ±‚æ¥å£ è¿”å›ä¸€ä¸ªuuid rt = random_code() # print(rt) return Response(str(uuid.uuid1()))class Generateimg(APIView): &#x27;&#x27;&#x27; è¿”å›å‰ç«¯éªŒè¯ç å›¾ç‰‡ &#x27;&#x27;&#x27; def get(self, request, uuid): # 2.åˆ›å»ºéšæœºæ•° code = random_code() # 3.ç”ŸæˆéªŒè¯ç å›¾ç‰‡ image = make_verify_image(code, uuid) # 4.è¿”å›å›¾ç‰‡ return HttpResponse(image, content_type=&#x27;image/jpeg&#x27;)","categories":[],"tags":[{"name":"Django","slug":"Django","permalink":"https://renjunda.ren/tags/Django/"}]},{"title":"æ€æ ·è®¾ç½®flaskåå°ç®¡ç†","slug":"æ€æ ·è®¾ç½®flaskåå°ç®¡ç†","date":"2019-06-03T02:44:47.000Z","updated":"2022-04-08T03:39:59.325Z","comments":true,"path":"lxb/25760.html","link":"","permalink":"https://renjunda.ren/lxb/25760.html","excerpt":"","text":"å¿«é€Ÿå¼€å‘åå°flask-admin Flask-adminä¹Ÿæ˜¯æœ‰å±€é™æ€§çš„,ä»–åªé€‚åˆå¼€å‘å°å‹å¿«é€Ÿåº”ç”¨,ä¸é€‚åˆé‚£ç§å¤§å‹å¹¶å‘æ€§é«˜,é€»è¾‘å¤æ‚çš„åº”ç”¨. é¦–å…ˆ,å¯¹äºå¤§å‹åº”ç”¨éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„,åŠ å¿«è®¿é—®é€Ÿåº¦,è€Œä¸”åç«¯è£…é…,å°¤å…¶æ˜¯è¿™ç§åŠ¨æ€ç”Ÿæˆçš„é€Ÿåº¦æ›´æ…¢ æµç¨‹ä»‹ç»1234567891011121314# å¯¼å…¥adminæ‰©å±•åŒ…from flask_admin import Admin# åˆ›å»ºå®ä¾‹å¯¹è±¡ è¿™é‡Œçš„nameå°±æ˜¯åå°çš„æ ‡é¢˜admin = Admin(app, name=&#x27;ç®¡ç†åå°&#x27;, template_mode=&#x27;bootstrap3&#x27;) # å¯¼å…¥ModelViewfrom flask_admin.contrib.sqla import ModelView# æ³¨å†Œmodel publicæ˜¯å£°æ˜çš„modelç±»å db.session,æ˜¯åœ¨configä¸­å£°æ˜çš„æ•°æ®åº“è¿æ¥ nameæ˜¯å°æ ‡é¢˜admin.add_view(ModelView(public, db.session,name=&#x27;test&#x27;))# æ±‰åŒ– å¼•å…¥Flask-BabeIExfrom flask_babelex import Babelbabel = Babel(app)app.config[&#x27;BABEL_DEFAULT_LOCALE&#x27;] = &#x27;zh_CN&#x27; å¤§åŠŸå‘Šæˆ!!","categories":[],"tags":[{"name":"Flask","slug":"Flask","permalink":"https://renjunda.ren/tags/Flask/"}]},{"title":"éƒ¨ç½²æ—¶djangoæ²¡æœ‰æ ·å¼è§£å†³æ–¹æ¡ˆ","slug":"éƒ¨ç½²æ—¶djangoæ²¡æœ‰æ ·å¼è§£å†³æ–¹æ¡ˆ","date":"2018-08-01T00:08:09.000Z","updated":"2022-04-02T07:44:04.381Z","comments":true,"path":"lxb/17098.html","link":"","permalink":"https://renjunda.ren/lxb/17098.html","excerpt":"","text":"æˆ‘ä»¬åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²è‡ªå·±çš„é¡¹ç›®æ—¶,å‘ç°djangoæ²¡æœ‰æ ·å¼,è¿™æ—¶æˆ‘ä»¬éœ€è¦æ”¶é›†é™æ€èµ„æºæ¥è¿›è¡Œè§£å†³. åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªstaticæ–‡ä»¶å¤¹ åœ¨settingsä¸­æ·»åŠ ä»¥ä¸‹é…ç½®: 1STATIC_ROOT = os.path.join(BASE_DIR, &#x27;static&#x27;) ç„¶ååœ¨nginxé…ç½®ä¸­æ·»åŠ  123location /static/ &#123; root /home/myproject/WorkerOrder; # é¡¹ç›®çš„ç»å¯¹è·¯å¾„&#125; é…ç½®å®Œæˆåæ‰§è¡Œpython manage.py collectstatic é‡æ–°å¯åŠ¨nginxå®Œæ¯•","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"Mysql","slug":"Mysql","permalink":"https://renjunda.ren/tags/Mysql/"},{"name":"python","slug":"python","permalink":"https://renjunda.ren/tags/python/"},{"name":"Django","slug":"Django","permalink":"https://renjunda.ren/tags/Django/"},{"name":"js","slug":"js","permalink":"https://renjunda.ren/tags/js/"},{"name":"nginx","slug":"nginx","permalink":"https://renjunda.ren/tags/nginx/"},{"name":"layui","slug":"layui","permalink":"https://renjunda.ren/tags/layui/"},{"name":"Flask","slug":"Flask","permalink":"https://renjunda.ren/tags/Flask/"}]}